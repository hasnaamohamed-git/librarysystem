<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Library — Quotes</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --nav-blue:#083d6e;
      --card-bg:#fff8f2;
      --page-bg:#e9dccf;
      --accent:#e07a2d;
      --muted:#6b6b6b;
      --radius:14px;
      --shadow: 0 8px 20px rgba(22,22,22,0.12);
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:'Poppins',sans-serif;background:linear-gradient(180deg,#f7efe8,var(--page-bg));min-height:100vh;}
    
    .topbar{
      height:70px;
      background:var(--nav-blue);
      border-radius:12px;
      display:flex;
      align-items:center;
      padding:0 30px;
      color:white;
      box-shadow:var(--shadow);
      position:relative;
    }
    .logo-placeholder{
      width:40px;height:40px;border-radius:8px;background:#fff9f4;
      display:flex;align-items:center;justify-content:center;color:var(--nav-blue);
      font-weight:700;font-size:20px;margin-right:20px;
    }
    .search-container{
      flex:1;
      max-width:500px;
    }
    .search-input{
      display:flex;align-items:center;background:white;border-radius:8px;
      padding:8px 16px;box-shadow:0 4px 12px rgba(0,0,0,0.1);height:44px;
    }
    .search-input input{
      border:none;outline:none;background:transparent;width:100%;margin-left:10px;
      font-size:16px;color:#333;
    }
    .icons{
      display:flex;gap:28px;align-items:center;margin-left:auto;
    }
    .icons a{
      color:white;text-decoration:none;font-weight:600;font-size:15px;transition:0.2s;
    }
    .icons a:hover{opacity:0.7;}

    .content{margin:30px;padding:0 30px;}
    .panel{background:var(--card-bg);border-radius:var(--radius);box-shadow:0 6px 18px rgba(16,24,40,0.08);padding:30px;}
    .page-header h2{margin:0 0 20px;color:var(--nav-blue);font-size:28px;font-weight:600;}

    .quotes-list{display:flex;flex-direction:column;gap:18px;}
    .quote-card{
      background:white;border-radius:10px;padding:20px;
      box-shadow:0 6px 14px rgba(11,22,33,0.05);
      border-left:5px solid var(--accent);
      display:flex;justify-content:space-between;align-items:flex-start;gap:16px;
    }
    .quote-main{flex:1;}
    .quote-card p{
      margin:0 0 10px;font-size:16px;line-height:1.5;color:#222;
    }
    .quote-card .meta{
      font-size:13.5px;color:var(--muted);font-weight:600;
    }
    .heart-btn{
      background:none;border:none;font-size:26px;cursor:pointer;
      color:var(--muted);transition:0.2s;padding:8px;border-radius:8px;
    }
    .heart-btn.favorited{color:var(--accent);animation:pop 0.3s;}
    @keyframes pop{0%{transform:scale(0.8)}60%{transform:scale(1.2)}100%{transform:scale(1)}}

    .empty-state{text-align:center;color:var(--muted);padding:40px;font-size:17px;}
  </style>
</head>
<body>

<div class="topbar">
  <!-- Logo -->
  <div class="logo-placeholder">A</div>

  <!-- Search Bar -->
  <div class="search-container">
    <div class="search-input">
      <span>Search</span>
      <input type="text" id="globalSearch" placeholder="Search quotes or authors..." />
    </div>
  </div>

  <!-- This makes nav.js work perfectly -->
  <div class="icons"></div>
</div>

<div class="content">
  <div class="panel">
    <div class="page-header">
      <h2>Quotes</h2>
    </div>
    <div class="quotes-list" id="quotesList"></div>
  </div>
</div>

<script>
  const STORAGE_KEY = 'myLibraryQuotes';
  let quotes = [];

  const defaultQuotes = [
    {id: 1, quote:"The rich do not work for money. They make money work for them.", quoter:"Author Robert Kiyosaki", author:"Robert Kiyosaki", favorite:false},
    {id: 2, quote:"Tourists while radicals do not divide as women.", quoter:"Author Guests", author:"Jane Austen", favorite:false},
    {id: 3, quote:"Those are decisions coming between rest the solutions that the world uses.", quoter:"Author Stanni", author:"M. Stanni", favorite:false},
    {id: 4, quote:"Ten or two commit to the two absolute mentions.", quoter:"Author Machine", author:"A. Machine", favorite:false},
    {id: 5, quote:"Clouds never ask permission before they cover the sun on Tuesday.", quoter:"Philosopher of Weather", author:"Dr. Sky Johnson", favorite:false},
    {id: 6, quote:"Success is 99% coffee and 47% forgetting to sleep.", quoter:"Motivational Guru", author:"Caffeine Maximus", favorite:false},
    {id: 7, quote:"The early bird gets the worm, but the night owl keeps the Wi-Fi password.", quoter:"Modern Wisdom", author:"Anonymous Hacker", favorite:false},
    {id: 8, quote:"Potatoes have skin, I have skin, therefore I am a potato on weekends.", quoter:"Deep Thoughts", author:"Sir Crispy Fries", favorite:false},
    {id: 9, quote:"Time flies like an arrow, fruit flies like a banana in summer.", quoter:"Linguistic Genius", author:"Professor Wordplay", favorite:false},
    {id:10, quote:"Never trust atoms, they make up literally everything including Tuesdays.", quoter:"Science Dad Jokes", author:"Neil deGrasse Tyson’t", favorite:false}
  ];

  function loadQuotes() {
    try {
      const saved = localStorage.getItem(STORAGE_KEY);
      if (saved) {
        return JSON.parse(saved).map((q, i) => ({...q, favorite:!!q.favorite, _order:q._order??i}));
      }
    } catch(e) { console.error(e); }
    return defaultQuotes.map((q,i)=>({...q, _order:i}));
  }

  function saveQuotes() {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(quotes.map(({_order,...q})=>q)));
  }

  function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }

  function toggleFavorite(id) {
    const q = quotes.find(x => x.id === id);
    if (q) {
      q.favorite = !q.favorite;
      saveQuotes();
      renderQuotes();
    }
  }
  window.toggleFavorite = toggleFavorite;

  function renderQuotes(filter = '') {
    const container = document.getElementById('quotesList');
    container.innerHTML = '';

    let list = quotes;
    if (filter) {
      const term = filter.toLowerCase();
      list = quotes.filter(q => 
        q.quote.toLowerCase().includes(term) || 
        q.author.toLowerCase().includes(term) || 
        q.quoter.toLowerCase().includes(term)
      );
    }

    list.sort((a,b) => (b.favorite - a.favorite) || (a._order - b._order));

    if (list.length === 0) {
      container.innerHTML = '<div class="empty-state">No quotes found.</div>';
      return;
    }

    list.forEach(q => {
      const card = document.createElement('div');
      card.className = 'quote-card';
      card.innerHTML = `
        <div class="quote-main">
          <p>“${escapeHtml(q.quote)}”</p>
          <div class="meta">Quoter: ${escapeHtml(q.quoter)} | Author: <strong>${escapeHtml(q.author)}</strong></div>
        </div>
        <button class="heart-btn ${q.favorite?'favorited':''}" 
                onclick="toggleFavorite(${q.id})"
                title="${q.favorite?'Remove from favorites':'Add to favorites'}">
          ${q.favorite ? '♥' : '♡'}
        </button>
      `;
      container.appendChild(card);
    });
  }

  // Start
  quotes = loadQuotes();
  renderQuotes();
  document.getElementById('globalSearch').addEventListener('input', e => renderQuotes(e.target.value));
</script>

<script src="nav.js"></script>
</body>
</html>






